<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>numm__generatePDf</fullName>
    <availability>online</availability>
    <displayType>button</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Générer PDF</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/21.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/21.0/apex.js&quot;)}

var result = sforce.apex.execute(&quot;numm/VFCAP17_JsButtonConnection&quot;, &quot;connectToHeroku&quot;, {editionId:&#39;{!numm__Edition__c.Id}&#39;});

var mgs = &#39;&#39;
if(result){
mgs = &#39;Votre requete est encour.&#39;
}else{
mgs = &quot;Votre requete n&#39;a pas abouti. Vieuller re-esseigné.&quot;
}
function showSimpleDialog(text){    
   var sd = new SimpleDialog(&quot;Test&quot;+Dialogs.getNextId(), false);    
   sd.setTitle(&quot;Refresh Work Orders Status&quot;);   
   sd.createDialog();   
   window.parent.sd = sd;   
   sd.setContentInnerHTML(&quot;&lt;p align=&#39;center&#39;&gt;&lt;img src=&#39;/img/msg_icons/confirm32.png&#39; style=&#39;margin:0 5px;&#39;/&gt;&lt;/p&gt;&lt;p align=&#39;center&#39;&gt;&quot;+text+&quot;&lt;/p&gt;&lt;p align=&#39;center&#39;&gt;&lt;br /&gt;&lt;button class=&#39;btn&#39; onclick=&#39;location.reload(true);//return false;&#39;&gt;close&lt;/button&gt;&lt;/p&gt;&quot;);    
   sd.show();   
 }  
 showSimpleDialog(mgs) ; //open the popup</url>
</WebLink>
